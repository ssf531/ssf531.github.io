{"posts":[{"title":"EF core从数据库快速生成实体及context","content":"有些项目开发时先建立数据库，再用codefirst来书写entity和EntityConfiguration，比较耗费功夫。 1、在vs2017中新建个asp.net core的web项目，或者其他项目均可。 2、打开nuget管理器命令行。执行以下3条命令安装相关功能。 Install-Package Microsoft.EntityframeworkCore.SqlServer Install-Package Microsoft.EntityframeworkCore.Tools Install-Package Microsoft.VisualStudio.Web.CodeGeneration.Design 3、执行这一命令。后面是数据库连接字符串 Scaffold-DbContext -Force “Data Source=59.110.21.214; Initial Catalog=test_DEV; Persist Security Info=True; User ID=sa; Password=123;” Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models/DataModels Scaffold-DbContext -Force “Server=127.0.0.1; port=3306; Database=dashboard; uid=root; pwd=p;” Pomelo.EntityFrameworkCore.MySql -OutputDir C:\\Users\\username\\source\\repos\\WebApplicationCore\\ 4、此时会在指定文件夹下会生成数据库中所有的实体和dbcontext文件。 ","link":"https://ssf531.github.io/post/ef-core-cong-shu-ju-ku-kuai-su-sheng-cheng-shi-ti-ji-context/"},{"title":"How to display JSON data in jQuery DataTables via Ajax","content":" 原文地址 stackoverflow.com Brian Tompsett - 汤莱恩 I've been trying to get my JSON data in jQuery DataTables component. First I wrote a JavaScript and a view like the code shown below: $.fn.dataTable.Editor({ ajax: &quot;http://localhost/example22/index.php?r=site/display&quot;, table: &quot;#example&quot;, fields: [{ label: &quot;Name:&quot;, name: &quot;name&quot; }, { label: &quot;Designation:&quot;, name: &quot;designation&quot; }, { label: &quot;Address:&quot;, name: &quot;address&quot; }, { label: &quot;Salary:&quot;, name: &quot;salary&quot; }] }); $('#example').DataTable({ lengthChange: false, ajax: &quot;http://localhost/example22/index.php?r=site/display&quot;, columns: [{ allk: &quot;name&quot; }, { allk: &quot;designation&quot; }, { allk: &quot;address&quot; }, { allk: &quot;salary&quot; }], select: true }); and a view like &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; cellspacing=&quot;0&quot; width=&quot;100%&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th&gt;Designation&lt;/th&gt; &lt;th&gt;Address&lt;/th&gt; &lt;th&gt;Salary&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;/table&gt; and the url that is provided contains the following JSON data respectively { &quot;allk&quot;: [ { &quot;name&quot;: &quot;raju&quot;, &quot;designation&quot;: &quot;developer&quot;, &quot;address&quot;: &quot;he is from viswasapuram&quot;, &quot;salary&quot;: &quot;30000&quot; }, { &quot;name&quot;: &quot;bob&quot;, &quot;designation&quot;: &quot;designer&quot;, &quot;address&quot;: &quot;no idea&quot;, &quot;salary&quot;: &quot;100000&quot; }, { &quot;name&quot;: &quot;bob&quot;, &quot;designation&quot;: &quot;designer&quot;, &quot;address&quot;: &quot;no idea&quot;, &quot;salary&quot;: &quot;100000&quot; }, { &quot;name&quot;: &quot;suresh&quot;, &quot;designation&quot;: &quot;designer&quot;, &quot;address&quot;: &quot;fffswss&quot;, &quot;salary&quot;: &quot;1212&quot; }, { &quot;name&quot;: &quot;john&quot;, &quot;designation&quot;: &quot;designer&quot;, &quot;address&quot;: &quot;california&quot;, &quot;salary&quot;: &quot;3000000&quot; }, { &quot;name&quot;: &quot;suresh&quot;, &quot;designation&quot;: &quot;tester&quot;, &quot;address&quot;: &quot;he is from cheeran maanagar&quot;, &quot;salary&quot;: &quot;20000&quot; } ] } Can someone help me on how to use DataTables with this application? SOLUTION Use ajax.dataSrc option to specify property holding data in your JSON response. For example: $('#example').DataTable({ // ... skipped other options ... ajax: { url: &quot;http://localhost/example22/index.php?r=site/display&quot;, dataSrc: 'allk' }, columns: [ { data: &quot;name&quot;}, { data: &quot;designation&quot;}, { data: &quot;address&quot; }, { data: &quot;salary&quot;} ] }); DEMO See this jsFiddle for code and demonstration. Gyrocode.com In Nodejs when you have a DataTable declared like this &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; style=&quot;width:100%&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th&gt;Class&lt;/th&gt; &lt;th&gt;Parents Name&lt;/th&gt; &lt;th&gt;Age&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;/table&gt; then your java script should be like this $(document).ready(function() { $(&quot;#example&quot;).DataTable({ ajax: { url: &quot;../kidsinfo&quot;, dataSrc: &quot;&quot; }, columns: [ { data: &quot;kid_name&quot; }, { data: &quot;class&quot; }, { data: &quot;parents_name&quot; }, { data: &quot;age&quot; }, ], iDisplayLength: 1, iDisplayStart: 0 }); }); Important point to note here is that your json data from server is like this [{&quot;id&quot;:1,&quot;kid_name&quot;:&quot;John&quot;,&quot;class&quot;:&quot;Hancock&quot;,&quot;parents_name&quot;:&quot;dharam&quot;,&quot;age&quot;:&quot;21&quot;}] then your javascript code should use the name kid_name from the json data received to relate the information you want to display in the column. If the json data from the server is like this { &quot;info&quot;: [{ &quot;id&quot;: 1, &quot;kid_name&quot;: &quot;John&quot;, &quot;class&quot;: &quot;Hancock&quot;, &quot;parents_name&quot;: &quot;dharam&quot;, &quot;age&quot;: &quot;21&quot; }] } then your java script should have dataSrc: &quot;info&quot; ","link":"https://ssf531.github.io/post/how-to-display-json-data-in-jquery-datatables-via-ajax/"},{"title":"Entity Framework Core Table Mapping","content":" 原文地址 stackoverflow.com DavidG I've made a simple Entity Framework ASP Core Application that works but I do not know why: I've made a context like this: public class AstootContext : DbContext { public AstootContext(DbContextOptions&lt;AstootContext&gt; options) : base(options) { } public DbSet&lt;Account&gt; Accounts { get; set; } public DbSet&lt;User&gt; Users { get; set; } } And I have two tables with models like this: public class Account { public int Id { get; set; } public string Username { get; set; } public string PasswordHash { get; set; } public DateTime Created { get; set; } List&lt;User&gt; Users { get; set; } } public class User { public int Id { get; set; } public string FirstName { get; set; } public string LastName { get; set; } public string Email { get; set; } public DateTime Birthday { get; set; } public Account Account { get; set; } } The interesting thing is that when I run my application it actually can pick up the data. It just seems weird because I have not specified any table mapping. I'm assuming this just automaps because the specified tables are the same name. My questions are: How do I specify Table explicit table mapping in case I do not want my model names to be exactly the same as the DB? How do I specify Custom Column Mapping. Is there anything special I have to specify for Primary/Foreign Keys edit To clarify Say I had a table in the DB MyAccounts and I wanted to map that to an entity Accounts. Say I had a column password and I wanted that to map to a POCO property PasswordHash johnny 5: To specify the name of the database table, you can use an attribute or the fluent API: Using Attributes: [Table(&quot;MyAccountsTable&quot;)] public class Account { public string PasswordHash { get; set; } } Using Fluent API: public class YourContext : DbContext { protected override void OnModelCreating(ModelBuilder builder) { builder.Entity&lt;Language&gt;(entity =&gt; { entity.ToTable(&quot;MyAccountsTable&quot;); }); } } To name your columns manually, it's very similar and you can use an attribute or the fluent API: Using Attributes: public class Account { [Column(&quot;MyPasswordHashColumn&quot;)] public string PasswordHash { get; set; } } Using Fluent API: public class YourContext : DbContext { protected override void OnModelCreating(ModelBuilder builder) { builder.Entity&lt;Language&gt;(x =&gt; x .ToTable(&quot;MyAccountsTable&quot;) .Property(entity =&gt; entity.PasswordHash) .HasField(&quot;MyPasswordHashColumn&quot;) ); } } ","link":"https://ssf531.github.io/post/entity-framework-core-table-mapping/"},{"title":"Example","content":"Heading Sub-heading Paragraphs are separated by a blank line. Two spaces at the end of a line produces a line break. Text attributes italic, bold, monospace. Horizontal rule: Strikethrough: strikethrough Bullet list: apples oranges pears Numbered list: lather rinse repeat An example. Markdown uses email-style characters for blockquoting. Inline HTML is supported. ","link":"https://ssf531.github.io/post/example/"},{"title":"About","content":"Welcome to my blog! 🤝 🏠 About this site This is a simple blog. 👨‍💻 Who is the blogger I am Fan, a Chinese living in New Zealand, majoring in computer science ⛹ Hobbies I like photography, travel, and playing pc games 📬 Contact me shishunfan@gmail.com ","link":"https://ssf531.github.io/post/about/"}]}